generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Property {
  id           String    @id @default(uuid())
  name         String
  location     String
  bedrooms     Int
  guests       Int
  calendarUrl  String?
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  
  // Relasi: Satu properti bisa memiliki banyak inquiry
  inquiries    Inquiry[]
}

model Inquiry {
  id             String    @id @default(uuid())
  guestName      String
  guestContact   String
  checkIn        DateTime
  checkOut       DateTime
  guestMessage   String
  status         String    @default("new") // 'new', 'replied', 'converted', 'lost'
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  // Kunci relasi ke Property
  propertyId     String
  property       Property  @relation(fields: [propertyId], references: [id])
}
